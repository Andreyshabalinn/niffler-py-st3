{"name": "Search Spending By Category", "status": "failed", "statusDetails": {"message": "AssertionError: b'{\"spendDate\": \"2025-07-06T11:15:18.979Z\", \"category\": {\"id\": \"c0de3119-dc95-447a-89e6-1fab537397cd\", \"name\": \"suggestTest\", \"username\": \"asd\", \"archived\": false}, \"currency\": \"RUB\", \"amount\": 8560, \"description\": \"our\", \"username\": \"asd\"}'", "trace": "self = <tests.test_main.TestsSearchSpends object at 0x000001D669B59810>, page = <Page url='http://frontend.niffler.dc/main'>\ncreated_spend = SpendCreate(id='b515566c-0609-4a9b-aa00-054326afc13b', spendDate=datetime.datetime(2025, 7, 6, 11, 15, 18, 955000, tzi...ame='asd', category=Category(id='75cb6980-38b7-4b91-9325-88a0c029ddd0', name='inside', username='asd', archived=False))\nsignin_user = ('asd', 'asd')\n\n    @allure.story(\"Поиск траты по категории\")\n    def test_search_spending_by_category(self, page: Page, created_spend, signin_user):\n        # Входные данные для создаваемых трат\n        spend_amount = fake.random_int(min=10, max=10000)\n        spend_description = fake.word()\n        another_currency = \"RUB\"\n        another_category = fake.word()+\"Test\"\n        now = datetime.now(timezone.utc)\n        spend_date = now.strftime(\"%Y-%m-%dT%H:%M:%S.%f\")[:-3] + \"Z\"\n    \n        # Создаём траты\n        spend_one = created_spend\n>       spend_two = create_spending(signin_user, spend_amount,another_category, another_currency, spend_date, spend_description)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_main.py:139: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsignin_user = ('asd', 'asd'), spend_amount = 8560, spend_category = 'suggestTest', spend_currency = 'RUB', spend_date = '2025-07-06T11:15:18.979Z', spend_description = 'our'\n\n    def create_spending(signin_user: str, spend_amount: str, spend_category: str, spend_currency: str, spend_date: str, spend_description: str):\n      headers = {\"Authorization\": f\"Bearer {token}\", \"Accept\": \"*/*\", \"Content-Type\": \"application/json\"}\n      username, _ = signin_user\n      spend_amount = spend_amount\n      spend_description = spend_description\n      spend_currency = spend_currency\n      category_name = spend_category\n      spend_date = spend_date\n      data = {\n      \"spendDate\": spend_date,\n      \"category\": {\n        \"id\": str(uuid.uuid4()),\n        \"name\": category_name,\n        \"username\": username,\n        \"archived\": False\n        },\n      \"currency\": spend_currency,\n      \"amount\": spend_amount,\n      \"description\": spend_description,\n      \"username\": username\n      }\n    \n      result = requests.post(f\"{base_url}spends/add\", json=data, headers=headers)\n      print(result.request.body)\n>     assert result.status_code == 201, result.request.body\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\nE     AssertionError: b'{\"spendDate\": \"2025-07-06T11:15:18.979Z\", \"category\": {\"id\": \"c0de3119-dc95-447a-89e6-1fab537397cd\", \"name\": \"suggestTest\", \"username\": \"asd\", \"archived\": false}, \"currency\": \"RUB\", \"amount\": 8560, \"description\": \"our\", \"username\": \"asd\"}'\n\ntests\\api_controller.py:101: AssertionError"}, "attachments": [{"name": "stdout", "source": "6b5ee90e-c5b3-40c7-8454-f338aaf6a905-attachment.txt", "type": "text/plain"}], "start": 1751800518980, "stop": 1751800519048, "uuid": "932be16b-d5e4-4c4d-8eec-fac47d433021", "historyId": "b03ba1cf04775d7a1eb4e49ad1d3329d", "testCaseId": "b03ba1cf04775d7a1eb4e49ad1d3329d", "fullName": "tests.test_main.TestsSearchSpends#test_search_spending_by_category", "labels": [{"name": "epic", "value": "Страница трат"}, {"name": "story", "value": "Поиск траты по категории"}, {"name": "feature", "value": "Поиск трат"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_main"}, {"name": "subSuite", "value": "TestsSearchSpends"}, {"name": "host", "value": "WIN-V8TQK9SAURU"}, {"name": "thread", "value": "16016-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_main"}]}